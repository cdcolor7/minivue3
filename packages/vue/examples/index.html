<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>minivue3</title>
</head>
<body>
  <div id="app">
    <!-- <h1>{{ msg }}</h1>
    <div>hello mini dev vue3 !!</div>
    <child-comp></child-comp> -->
  </div>
  <script src="../dist/vue.global.js"></script>
  <script>
    const { createApp, ref, h, reactive, computed } = Vue
    const app = createApp({
      setup() {
        const cot = reactive({
          msg: 'hello min vue',
          foo: 1,
          // bar: computed(() => cot.foo * 2 )
        })
        const isChange = ref(false);
        const bar = computed(() => cot.foo * 2 )
        console.log(bar)
        setTimeout(() => {
          cot.msg = 'hello !!!'
          isChange.value = true
        }, 1000)
        return {
          cot,
          isChange,
          bar
        }
      },
      render() {
        const prevChildren = [
          h("p", { key: "A" }, "A"),
          h("p", { key: "B" }, "B"),
          h("p", { key: "C" }, "C"),
          h("p", { key: "E" }, "E"),
          h("p", { key: "F" }, "F"),
          h("p", { key: "G" }, "G"),
        ];
        const nextChildren = [
          h("p", { key: "A" }, "A"),
          h("p", { key: "B" }, "B"),
          h("p", { key: "E" }, "E"),
          h("p", { key: "C" }, "C"),
          h("p", { key: "D" }, "D"),
          h("p", { key: "F" }, "F"),
          h("p", { key: "G" }, "G"),
        ];
        // return h("div", { tId: 1 }, this.cot.msg);
        return h("div", { tId: 1 }, [h("h1", {}, this.cot.msg),h("p", {}, this.bar), h("children", {}, this.isChange === true ? nextChildren : prevChildren)]);
      },
    })
    app.mount('#app')
  </script>
</body>
</html>